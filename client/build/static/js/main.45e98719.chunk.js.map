{"version":3,"sources":["components/TransactionList/TransactionList.module.scss","components/AddTransaction/AddTransaction.module.scss","components/IncomeExpenses/IncomeExpenses.module.scss","components/Header/index.js","context/AppReducer.js","context/actions/index.js","context/GlobalState.js","components/Balance/Balance.component.js","utils/format.js","components/Balance/index.js","components/IncomeExpenses/IncomeExpenses.component.js","components/IncomeExpenses/index.js","components/Transaction/Transaction.component.js","components/Transaction/index.js","components/TransactionList/TransactionList.component.js","components/TransactionList/index.js","components/AddTransaction/AddTransaction.component.js","components/AddTransaction/index.js","App.js","index.js","components/Transaction/Transaction.module.scss"],"names":["module","exports","Header","state","action","type","loading","transactions","payload","filter","tran","_id","error","getAllTransactions","deleteTransaction","id","addTransaction","transaction","transactionError","errors","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","a","axios","get","res","data","response","delete","config","headers","post","Provider","value","getTransactions","delTransaction","createTransaction","BalanceComponent","total","numberWithCommas","x","toString","replace","Balance","useContext","map","amount","reduce","acc","item","toFixed","IncomeExpensesComponent","income","expense","moneyPlus","classNames","styles","money","plus","moneyMinus","minus","className","incExpContainer","IncomeExpenses","amounts","cx","bind","TransactionComponent","deleteTran","absAmount","Math","abs","sign","elClass","el","text","onClick","deleteBtn","Transaction","TransactionListComponent","list","key","TransactionList","useEffect","AddTransactionComponent","useState","setText","setAmount","onSubmit","e","preventDefault","onChange","target","placeholder","btn","AddTransaction","newTransaction","floor","random","App","ReactDOM","render","document","getElementById"],"mappings":"sIACAA,EAAOC,QAAU,CAAC,KAAO,gC,mBCAzBD,EAAOC,QAAU,CAAC,IAAM,8B,2ECAxBD,EAAOC,QAAU,CAAC,gBAAkB,wCAAwC,MAAQ,8BAA8B,KAAO,6BAA6B,MAAQ,gC,4ECCjJC,G,MAAS,WAClB,OACI,iD,6CCJO,WAACC,EAAOC,GACnB,OAAOA,EAAOC,MACV,IAAK,mBACD,OAAO,eACAF,EADP,CAEIG,SAAS,EACTC,aAAcH,EAAOI,UAE7B,IAAK,qBACD,OAAO,eACAL,EADP,CAEII,aAAcJ,EAAMI,aAAaE,QAAO,SAAAC,GAAI,OAAIA,EAAKC,MAAQP,EAAOI,aAE5E,IAAK,kBACD,OAAO,eACAL,EADP,CAEII,aAAa,GAAD,mBAAMJ,EAAMI,cAAZ,CAA0BH,EAAOI,YAErD,IAAK,oBACD,OAAO,eACAL,EADP,CAEIS,MAAOR,EAAOI,UAEtB,QAAS,OAAOL,I,gBCvBXU,EAAqB,SAACN,GAAD,MAAmB,CACjDF,KAAM,mBACNG,QAASD,IAGAO,EAAoB,SAAAC,GAAE,MAAK,CACpCV,KAAM,qBACNG,QAASO,IAGAC,EAAiB,SAAAC,GAAW,MAAK,CAC1CZ,KAAM,kBACNG,QAASS,IAGAC,EAAmB,SAACC,GAAD,MAAa,CACzCd,KAAM,oBACNG,QAASW,ICZPC,EAAe,CACjBb,aAAc,GACdK,MAAO,KACPN,SAAS,GAGAe,EAAgBC,wBAAcF,GAG9BG,EAAiB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EAClBC,qBAAWC,EAAYN,GADL,mBACrCjB,EADqC,KAC9BwB,EAD8B,iDAI5C,4BAAAC,EAAA,+EAE0BC,IAAMC,IAAI,wBAFpC,OAEcC,EAFd,OAGQJ,EAASd,EAAmBkB,EAAIC,KAAKA,OAH7C,gDAMQL,EAAST,EAAiB,KAAMe,SAASD,KAAKpB,QANtD,0DAJ4C,kEAe5C,WAA8BG,GAA9B,SAAAa,EAAA,+EAEcC,IAAMK,OAAN,+BAAqCnB,IAFnD,OAIQY,EAASb,EAAkBC,IAJnC,+CAMQY,EAAST,EAAiB,KAAMe,SAASD,KAAKpB,QANtD,yDAf4C,kEA0B5C,WAAiCK,GAAjC,iBAAAW,EAAA,6DACUO,EAAS,CACXC,QAAS,CACL,eAAgB,qBAH5B,kBAQ0BP,IAAMQ,KAAK,uBAAwBpB,EAAakB,GAR1E,OAQcJ,EARd,OAUQJ,EAASX,EAAee,EAAIC,KAAKA,OAVzC,gDAYQL,EAAST,EAAiB,KAAMe,SAASD,KAAKpB,QAZtD,0DA1B4C,sBA0C5C,OACI,kBAACS,EAAciB,SAAf,CACIC,MAAO,CACHhC,aAAcJ,EAAMI,aACpBK,MAAOT,EAAMS,MACbN,QAASH,EAAMG,QACfkC,gBAhDgC,2CAiDhC1B,kBAAmB,SAACC,GAAD,OAjDa,2CAiDL0B,CAAe1B,IAC1CC,eAAgB,SAACC,GAAD,OAlDgB,2CAkDCyB,CAAkBzB,MACtDO,IC/DAmB,EAAmB,SAAC,GAAa,IAAZC,EAAW,EAAXA,MAC9B,OACI,oCACI,4CACA,gCAAMA,KCNX,SAASC,EAAiBC,GAC7B,OAAOA,EAAEC,WAAWC,QAAQ,wBAAyB,KCIlD,IAAMC,EAAU,WAAO,IAGpBL,EAFmBM,qBAAW7B,GAA5Bd,aACqB4C,KAAI,SAAAlC,GAAW,OAAIA,EAAYmC,UACtCC,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,IAAO,GAAGC,QAAQ,GAEtE,OACI,kBAAC,EAAD,CAAkBZ,MAAOC,EAAiBD,M,gCCNrCa,EAA0B,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QAEzCC,EAAYC,IAAWC,IAAOC,MAAOD,IAAOE,MAC5CC,EAAaJ,IAAWC,IAAOC,MAAOD,IAAOI,OAEjD,OACI,yBAAKC,UAAWL,IAAOM,iBACnB,6BACI,sCACA,uBAAGD,UAAWP,GAAd,IAA2BF,IAE/B,6BACI,uCACA,uBAAGS,UAAWF,GAAd,IAA4BN,MCZ/BU,EAAiB,WAAO,IAG3BC,EAFmBpB,qBAAW7B,GAA5Bd,aAEqB4C,KAAI,SAAAlC,GAAW,OAAIA,EAAYmC,UACtDM,EAASY,EACV7D,QAAO,SAAA8C,GAAI,OAAIA,EAAO,KACtBF,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,IAAO,GACrCC,QAAQ,GACPG,IAE0C,EAF/BW,EACZ7D,QAAO,SAAA8C,GAAI,OAAIA,EAAO,KACtBF,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,IAAO,IACrCC,QAAQ,GAEb,OACI,kBAAC,EAAD,CACIE,OAAQb,EAAiBa,GACzBC,QAASd,EAAiBc,M,iCChBlCY,EAAKV,IAAWW,KAAKV,KAEZW,EAAuB,SAAC,GAA+B,IAA9BxD,EAA6B,EAA7BA,YAAayD,EAAgB,EAAhBA,WAEzCC,EAAYC,KAAKC,IAAI5D,EAAYmC,QACjC0B,EAAO7D,EAAYmC,OAAS,EAAI,IAAM,IAExC2B,EAAUR,EAAG,CACbS,IAAI,EACJhB,KAAM/C,EAAYmC,OAAS,EAC3Bc,MAAOjD,EAAYmC,OAAS,IAOhC,OACI,wBAAIe,UAAWY,GACV9D,EAAYgE,KADjB,IACuB,8BAAOH,EAAP,KAAejC,EAAiB8B,IACnD,4BAAQO,QAPA,WACZR,EAAWzD,EAAYN,MAMOwD,UAAWL,IAAOqB,WAA5C,OCrBCC,EAAc,SAAC,GAAqB,IAAnBnE,EAAkB,EAAlBA,YAClBH,EAAsBoC,qBAAW7B,GAAjCP,kBAER,OACI,kBAAC,EAAD,CACIG,YAAaA,EACbyD,WAAY5D,K,iBCPXuE,EAA2B,SAAC,GAAoB,IAAnB9E,EAAkB,EAAlBA,aACtC,OACI,oCACI,uCACA,wBAAI4D,UAAWL,IAAOwB,MACjB/E,EAAa4C,KAAI,SAAAzC,GAAI,OAClB,kBAAC,EAAD,CAAa6E,IAAK7E,EAAKK,GAAIE,YAAaP,UCN/C8E,EAAkB,WAAO,IAAD,EACStC,qBAAW7B,GAA7Cd,EADyB,EACzBA,aAAciC,EADW,EACXA,gBAQtB,OANAiD,qBAAU,WACNjD,MAGD,IAGC,kBAAC,EAAD,CAA0BjC,aAAcA,K,iBCXnCmF,EAA0B,SAAC,GAAsB,IAArB1E,EAAoB,EAApBA,eAAoB,EACjC2E,mBAAS,IADwB,mBAClDV,EADkD,KAC5CW,EAD4C,OAE7BD,mBAAS,GAFoB,mBAElDvC,EAFkD,KAE1CyC,EAF0C,KASzD,OACI,oCACI,mDACA,0BAAMC,SARG,SAAAC,GACbA,EAAEC,iBACFhF,EAAeiE,EAAM7B,KAOb,6BACI,uCACA,2BAAOb,MAAO0C,EAAMgB,SAAU,SAACF,GAAD,OAAOH,EAAQG,EAAEG,OAAO3D,QAAQlC,KAAK,OAAO8F,YAAY,mBAE1F,6BACI,yCAAc,6BAAd,2CAGA,2BAAO5D,MAAOa,EAAQ6C,SAAU,SAACF,GAAD,OAAOF,EAAUE,EAAEG,OAAO3D,QAAQlC,KAAK,SAAS8F,YAAY,qBAEhG,4BAAQhC,UAAWL,IAAOsC,KAA1B,sBCtBHC,EAAiB,WAAO,IACzBrF,EAAmBkC,qBAAW7B,GAA9BL,eAaR,OACI,kBAAC,EAAD,CAAyBA,eAZZ,SAACiE,EAAM7B,GAEpB,IAAMkD,EAAiB,CACnBvF,GAAI6D,KAAK2B,MAAsB,IAAhB3B,KAAK4B,UACpBpD,QAASA,EACT6B,QAGJjE,EAAesF,OCURG,MAdf,WACE,OACE,kBAAC,EAAD,KACE,kBAAC,EAAD,MACA,yBAAKtC,UAAU,aACb,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,SCfRuC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U,kBCHjD7G,EAAOC,QAAU,CAAC,GAAK,wBAAwB,KAAO,0BAA0B,MAAQ,2BAA2B,UAAY,kC","file":"static/js/main.45e98719.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"TransactionList_list__3HOpW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"AddTransaction_btn__DeeKw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"incExpContainer\":\"IncomeExpenses_incExpContainer__1ru-i\",\"money\":\"IncomeExpenses_money__1iHNp\",\"plus\":\"IncomeExpenses_plus__2JuT3\",\"minus\":\"IncomeExpenses_minus__1eZSD\"};","import React from 'react';\r\n\r\nexport const Header = () => {\r\n    return (\r\n        <h2>\r\n            Expense Tracker\r\n        </h2>\r\n    )\r\n}\r\n","export default (state, action) => {\r\n    switch(action.type){\r\n        case 'GET_TRANSACTIONS':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                transactions: action.payload\r\n            }\r\n        case 'DELETE_TRANSACTION':\r\n            return {\r\n                ...state,\r\n                transactions: state.transactions.filter(tran => tran._id !== action.payload)\r\n            }\r\n        case 'ADD_TRANSACTION':\r\n            return {\r\n                ...state,\r\n                transactions: [...state.transactions, action.payload]\r\n            }\r\n        case 'TRANSACTION_ERROR':\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n        default: return state;\r\n    }\r\n};","export const getAllTransactions = (transactions) => ({\r\n    type: 'GET_TRANSACTIONS',\r\n    payload: transactions\r\n});\r\n\r\nexport const deleteTransaction = id => ({\r\n    type: 'DELETE_TRANSACTION',\r\n    payload: id\r\n});\r\n\r\nexport const addTransaction = transaction => ({\r\n    type: 'ADD_TRANSACTION',\r\n    payload: transaction\r\n});\r\n\r\nexport const transactionError = (errors) => ({\r\n    type: 'TRANSACTION_ERROR',\r\n    payload: errors\r\n});","import React, { createContext, useReducer } from 'react';\r\nimport AppReducer from './AppReducer';\r\nimport axios from 'axios';\r\nimport { addTransaction, deleteTransaction, getAllTransactions, transactionError } from './actions';\r\n\r\nconst initialState = {\r\n    transactions: [],\r\n    error: null,\r\n    loading: true\r\n};\r\n\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n//Provider component\r\nexport const GlobalProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n    //TODO. Вынести отдельно. SAGA?\r\n    async function getTransactions(){\r\n        try {\r\n            const res = await axios.get('/api/v1/transactions');\r\n            dispatch(getAllTransactions(res.data.data));\r\n\r\n        } catch (error) {\r\n            dispatch(transactionError(error.response.data.error));\r\n        }\r\n    }\r\n\r\n    //TODO. Вынести отдельно. SAGA?\r\n    async function delTransaction(id) {\r\n        try {\r\n            await axios.delete(`/api/v1/transactions/${id}`);\r\n\r\n            dispatch(deleteTransaction(id));\r\n        } catch (error) {\r\n            dispatch(transactionError(error.response.data.error));\r\n        }\r\n    }\r\n\r\n    //TODO. Вынести отдельно. SAGA?\r\n    async function createTransaction(transaction){\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        try {\r\n            const res = await axios.post('/api/v1/transactions', transaction, config);\r\n\r\n            dispatch(addTransaction(res.data.data));\r\n        } catch (error) {\r\n            dispatch(transactionError(error.response.data.error));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <GlobalContext.Provider\r\n            value={{\r\n                transactions: state.transactions,\r\n                error: state.error,\r\n                loading: state.loading,\r\n                getTransactions,\r\n                deleteTransaction: (id) => delTransaction(id),\r\n                addTransaction: (transaction) => createTransaction(transaction)}}>\r\n            {children}\r\n        </GlobalContext.Provider>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport const BalanceComponent = ({total}) => {\r\n    return (\r\n        <>\r\n            <h4>Your Balance</h4>\r\n            <h1>${total}</h1>\r\n        </>\r\n    )\r\n}","export function numberWithCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}","import React, { useContext } from 'react';\r\nimport { GlobalContext } from '../../context/GlobalState';\r\nimport { BalanceComponent } from './Balance.component';\r\nimport { numberWithCommas } from '../../utils/format';\r\n\r\nexport const Balance = () => {\r\n    const { transactions } = useContext(GlobalContext);\r\n    const amounts = transactions.map(transaction => transaction.amount);\r\n    const total = amounts.reduce((acc, item) => (acc += item), 0).toFixed(2);\r\n    \r\n    return (\r\n        <BalanceComponent total={numberWithCommas(total)}/>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nimport classNames from 'classnames';\r\nimport styles from './IncomeExpenses.module.scss';\r\n\r\nexport const IncomeExpensesComponent = ({income, expense}) => {\r\n\r\n    let moneyPlus = classNames(styles.money, styles.plus);\r\n    let moneyMinus = classNames(styles.money, styles.minus);\r\n\r\n    return (\r\n        <div className={styles.incExpContainer}>\r\n            <div>\r\n                <h4>Income</h4>\r\n                <p className={moneyPlus}>${income}</p>\r\n            </div>\r\n            <div>\r\n                <h4>Expense</h4>\r\n                <p className={moneyMinus}>${expense}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext } from 'react';\r\nimport { GlobalContext } from '../../context/GlobalState';\r\nimport { numberWithCommas } from '../../utils/format';\r\n\r\nimport { IncomeExpensesComponent } from './IncomeExpenses.component';\r\n\r\nexport const IncomeExpenses = () => {\r\n    const { transactions } = useContext(GlobalContext);\r\n\r\n    const amounts = transactions.map(transaction => transaction.amount);\r\n    const income = amounts\r\n        .filter(item => item > 0)\r\n        .reduce((acc, item) => (acc += item), 0)\r\n        .toFixed(2);\r\n    const expense = (amounts\r\n        .filter(item => item < 0)\r\n        .reduce((acc, item) => (acc += item), 0) * -1)\r\n        .toFixed(2);\r\n\r\n    return (\r\n        <IncomeExpensesComponent\r\n            income={numberWithCommas(income)}\r\n            expense={numberWithCommas(expense)}/>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nimport classNames from 'classnames/bind';\r\nimport styles from './Transaction.module.scss';\r\nimport { numberWithCommas } from '../../utils/format';\r\n\r\nlet cx = classNames.bind(styles);\r\n\r\nexport const TransactionComponent = ({transaction, deleteTran}) => {\r\n\r\n    const absAmount = Math.abs(transaction.amount);\r\n    const sign = transaction.amount < 0 ? '-' : '+';\r\n\r\n    let elClass = cx({\r\n        el: true,\r\n        plus: transaction.amount > 0,\r\n        minus: transaction.amount < 0\r\n    });\r\n\r\n    const onClick = () => {\r\n        deleteTran(transaction._id);\r\n    }\r\n\r\n    return (\r\n        <li className={elClass}>\r\n            {transaction.text} <span>{sign} ${numberWithCommas(absAmount)}</span>\r\n            <button onClick={onClick} className={styles.deleteBtn}>x</button>\r\n        </li>\r\n    )\r\n}","import React, { useContext } from 'react';\r\nimport { GlobalContext } from '../../context/GlobalState';\r\nimport { TransactionComponent } from './Transaction.component';\r\n\r\n//also can use Transaction = (props) => {.. and use props.transaction ..}\r\nexport const Transaction = ({ transaction }) => {\r\n    const { deleteTransaction } = useContext(GlobalContext);\r\n\r\n    return (\r\n        <TransactionComponent\r\n            transaction={transaction}\r\n            deleteTran={deleteTransaction}/>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Transaction } from '../Transaction';\r\nimport styles from './TransactionList.module.scss';\r\n\r\nexport const TransactionListComponent = ({transactions}) => {\r\n    return (\r\n        <>\r\n            <h3>History</h3>\r\n            <ul className={styles.list}>\r\n                {transactions.map(tran => (\r\n                    <Transaction key={tran.id} transaction={tran} />\r\n                ))}\r\n            </ul>\r\n        </>\r\n    )\r\n}","import React, { useContext, useEffect } from 'react';\r\nimport { GlobalContext } from '../../context/GlobalState';\r\nimport { TransactionListComponent } from './TransactionList.component';\r\n\r\nexport const TransactionList = () => {\r\n    const { transactions, getTransactions } = useContext(GlobalContext);\r\n\r\n    useEffect(() => {\r\n        getTransactions();\r\n        //eslint-disable-next-line react-hooks/exhaustive-deps\r\n        //TODO. В [] добавить зависимость и избавиться от коммента сверху.\r\n    }, []);\r\n\r\n    return (\r\n        <TransactionListComponent transactions={transactions}/>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport styles from './AddTransaction.module.scss';\r\n\r\nexport const AddTransactionComponent = ({addTransaction}) => {\r\n    const [text, setText] = useState('');\r\n    const [amount, setAmount] = useState(0);\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        addTransaction(text, amount);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h3>Add new transaction</h3>\r\n            <form onSubmit={onSubmit}>\r\n                <div>\r\n                    <label>Text</label>\r\n                    <input value={text} onChange={(e) => setText(e.target.value)} type=\"text\" placeholder=\"Enter text...\" />\r\n                </div>\r\n                <div>\r\n                    <label>Amount <br />\r\n                    (negative - expense, positive - income)\r\n                    </label>\r\n                    <input value={amount} onChange={(e) => setAmount(e.target.value)} type=\"number\" placeholder=\"Enter amount...\" />\r\n                </div>\r\n                <button className={styles.btn}>Add transaction</button>\r\n            </form>\r\n        </>\r\n    )\r\n}","import React, { useContext } from 'react';\r\nimport { GlobalContext } from '../../context/GlobalState';\r\nimport { AddTransactionComponent } from './AddTransaction.component';\r\n\r\nexport const AddTransaction = () => {\r\n    const { addTransaction } = useContext(GlobalContext);\r\n\r\n    const onSubmit = (text, amount) => {\r\n\r\n        const newTransaction = {\r\n            id: Math.floor(Math.random() * 1000000),\r\n            amount: +amount,\r\n            text\r\n        }\r\n\r\n        addTransaction(newTransaction);\r\n    }\r\n\r\n    return (\r\n        <AddTransactionComponent addTransaction={onSubmit}/>\r\n    )\r\n}\r\n","import React from 'react';\nimport './App.css';\n\nimport { Header } from './components/Header';\nimport { Balance } from './components/Balance';\nimport { IncomeExpenses } from './components/IncomeExpenses';\nimport { TransactionList } from './components/TransactionList';\nimport { AddTransaction } from './components/AddTransaction';\n\nimport { GlobalProvider } from './context/GlobalState';\n\nfunction App() {\n  return (\n    <GlobalProvider>\n      <Header />\n      <div className=\"container\">\n        <Balance />\n        <IncomeExpenses />\n        <TransactionList />\n        <AddTransaction />\n      </div>\n    </GlobalProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"el\":\"Transaction_el__1tG0Z\",\"plus\":\"Transaction_plus__3TVO-\",\"minus\":\"Transaction_minus__iYP_1\",\"deleteBtn\":\"Transaction_deleteBtn__3qY2m\"};"],"sourceRoot":""}